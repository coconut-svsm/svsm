<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="CPU-local data."><title>PerCpu in svsm::cpu::percpu - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="svsm" data-themes="" data-resource-suffix="" data-rustdoc-version="1.93.1 (01f6ddf75 2026-02-11)" data-channel="1.93.1" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-a3946164.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-a410ff4d.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">PerCpu</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../svsm/index.html">svsm</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">PerCpu</a></h2><h3><a href="#fields">Fields</a></h3><ul class="block structfield"><li><a href="#structfield.apic" title="apic">apic</a></li><li><a href="#structfield.context_switch_stack" title="context_switch_stack">context_switch_stack</a></li><li><a href="#structfield.current_stack" title="current_stack">current_stack</a></li><li><a href="#structfield.ghcb" title="ghcb">ghcb</a></li><li><a href="#structfield.guest_apic" title="guest_apic">guest_apic</a></li><li><a href="#structfield.hv_doorbell" title="hv_doorbell">hv_doorbell</a></li><li><a href="#structfield.hypercall_pages" title="hypercall_pages">hypercall_pages</a></li><li><a href="#structfield.init_shadow_stack" title="init_shadow_stack">init_shadow_stack</a></li><li><a href="#structfield.irq_state" title="irq_state">irq_state</a></li><li><a href="#structfield.isst" title="isst">isst</a></li><li><a href="#structfield.ist" title="ist">ist</a></li><li><a href="#structfield.pgtbl" title="pgtbl">pgtbl</a></li><li><a href="#structfield.reset_ip" title="reset_ip">reset_ip</a></li><li><a href="#structfield.runqueue" title="runqueue">runqueue</a></li><li><a href="#structfield.shared" title="shared">shared</a></li><li><a href="#structfield.svsm_vmsa" title="svsm_vmsa">svsm_vmsa</a></li><li><a href="#structfield.tss" title="tss">tss</a></li><li><a href="#structfield.vm_range" title="vm_range">vm_range</a></li><li><a href="#structfield.vrange_2m" title="vrange_2m">vrange_2m</a></li><li><a href="#structfield.vrange_4k" title="vrange_4k">vrange_4k</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.ai_handle_intercepts" title="ai_handle_intercepts">ai_handle_intercepts</a></li><li><a href="#method.alloc" title="alloc">alloc</a></li><li><a href="#method.alloc_guest_vmsa" title="alloc_guest_vmsa">alloc_guest_vmsa</a></li><li><a href="#method.alloc_svsm_vmsa" title="alloc_svsm_vmsa">alloc_svsm_vmsa</a></li><li><a href="#method.allocate_context_switch_shadow_stack" title="allocate_context_switch_shadow_stack">allocate_context_switch_shadow_stack</a></li><li><a href="#method.allocate_context_switch_stack" title="allocate_context_switch_stack">allocate_context_switch_stack</a></li><li><a href="#method.allocate_hypercall_pages" title="allocate_hypercall_pages">allocate_hypercall_pages</a></li><li><a href="#method.allocate_init_shadow_stack" title="allocate_init_shadow_stack">allocate_init_shadow_stack</a></li><li><a href="#method.allocate_isst_shadow_stacks" title="allocate_isst_shadow_stacks">allocate_isst_shadow_stacks</a></li><li><a href="#method.allocate_ist_stacks" title="allocate_ist_stacks">allocate_ist_stacks</a></li><li><a href="#method.allocate_shadow_stack" title="allocate_shadow_stack">allocate_shadow_stack</a></li><li><a href="#method.allocate_stack" title="allocate_stack">allocate_stack</a></li><li><a href="#method.clear_pending_interrupts" title="clear_pending_interrupts">clear_pending_interrupts</a></li><li><a href="#method.configure_apic_vector" title="configure_apic_vector">configure_apic_vector</a></li><li><a href="#method.current_task" title="current_task">current_task</a></li><li><a href="#method.disable_apic_emulation" title="disable_apic_emulation">disable_apic_emulation</a></li><li><a href="#method.disable_interrupt_use" title="disable_interrupt_use">disable_interrupt_use</a></li><li><a href="#method.dump_vm_ranges" title="dump_vm_ranges">dump_vm_ranges</a></li><li><a href="#method.finish_page_table" title="finish_page_table">finish_page_table</a></li><li><a href="#method.get_apic" title="get_apic">get_apic</a></li><li><a href="#method.get_apic_id" title="get_apic_id">get_apic_id</a></li><li><a href="#method.get_cpu_index" title="get_cpu_index">get_cpu_index</a></li><li><a href="#method.get_current_stack" title="get_current_stack">get_current_stack</a></li><li><a href="#method.get_hypercall_pages" title="get_hypercall_pages">get_hypercall_pages</a></li><li><a href="#method.get_initial_context" title="get_initial_context">get_initial_context</a></li><li><a href="#method.get_pgtable" title="get_pgtable">get_pgtable</a></li><li><a href="#method.get_top_of_context_switch_stack" title="get_top_of_context_switch_stack">get_top_of_context_switch_stack</a></li><li><a href="#method.get_top_of_df_shadow_stack" title="get_top_of_df_shadow_stack">get_top_of_df_shadow_stack</a></li><li><a href="#method.get_top_of_df_stack" title="get_top_of_df_stack">get_top_of_df_stack</a></li><li><a href="#method.get_top_of_shadow_stack" title="get_top_of_shadow_stack">get_top_of_shadow_stack</a></li><li><a href="#method.ghcb" title="ghcb">ghcb</a></li><li><a href="#method.guest_apic" title="guest_apic">guest_apic</a></li><li><a href="#method.guest_apic_mut" title="guest_apic_mut">guest_apic_mut</a></li><li><a href="#method.guest_vmsa_ref" title="guest_vmsa_ref">guest_vmsa_ref</a></li><li><a href="#method.handle_pf" title="handle_pf">handle_pf</a></li><li><a href="#method.hv_doorbell" title="hv_doorbell">hv_doorbell</a></li><li><a href="#method.hv_doorbell_addr" title="hv_doorbell_addr">hv_doorbell_addr</a></li><li><a href="#method.init_page_table" title="init_page_table">init_page_table</a></li><li><a href="#method.initialize_apic" title="initialize_apic">initialize_apic</a></li><li><a href="#method.initialize_vm_ranges" title="initialize_vm_ranges">initialize_vm_ranges</a></li><li><a href="#method.irq_nesting_count" title="irq_nesting_count">irq_nesting_count</a></li><li><a href="#method.irqs_disable" title="irqs_disable">irqs_disable</a></li><li><a href="#method.irqs_enable" title="irqs_enable">irqs_enable</a></li><li><a href="#method.irqs_pop_nesting" title="irqs_pop_nesting">irqs_pop_nesting</a></li><li><a href="#method.irqs_push_nesting" title="irqs_push_nesting">irqs_push_nesting</a></li><li><a href="#method.load" title="load">load</a></li><li><a href="#method.load_gdt_tss" title="load_gdt_tss">load_gdt_tss</a></li><li><a href="#method.load_isst" title="load_isst">load_isst</a></li><li><a href="#method.lower_tpr" title="lower_tpr">lower_tpr</a></li><li><a href="#method.map_guest_caa" title="map_guest_caa">map_guest_caa</a></li><li><a href="#method.map_guest_vmsa" title="map_guest_vmsa">map_guest_vmsa</a></li><li><a href="#method.map_self" title="map_self">map_self</a></li><li><a href="#method.map_self_stage2" title="map_self_stage2">map_self_stage2</a></li><li><a href="#method.new" title="new">new</a></li><li><a href="#method.new_mapping" title="new_mapping">new_mapping</a></li><li><a href="#method.populate_page_table" title="populate_page_table">populate_page_table</a></li><li><a href="#method.process_hv_events_if_required" title="process_hv_events_if_required">process_hv_events_if_required</a></li><li><a href="#method.raise_tpr" title="raise_tpr">raise_tpr</a></li><li><a href="#method.read_apic_register" title="read_apic_register">read_apic_register</a></li><li><a href="#method.register_ghcb" title="register_ghcb">register_ghcb</a></li><li><a href="#method.runqueue" title="runqueue">runqueue</a></li><li><a href="#method.runqueue_mut" title="runqueue_mut">runqueue_mut</a></li><li><a href="#method.schedule_init" title="schedule_init">schedule_init</a></li><li><a href="#method.schedule_prepare" title="schedule_prepare">schedule_prepare</a></li><li><a href="#method.set_current_stack" title="set_current_stack">set_current_stack</a></li><li><a href="#method.set_pgtable" title="set_pgtable">set_pgtable</a></li><li><a href="#method.set_reset_ip" title="set_reset_ip">set_reset_ip</a></li><li><a href="#method.set_tss_rsp0" title="set_tss_rsp0">set_tss_rsp0</a></li><li><a href="#method.setup" title="setup">setup</a></li><li><a href="#method.setup_bsp_idle_task" title="setup_bsp_idle_task">setup_bsp_idle_task</a></li><li><a href="#method.setup_ghcb" title="setup_ghcb">setup_ghcb</a></li><li><a href="#method.setup_hv_doorbell" title="setup_hv_doorbell">setup_hv_doorbell</a></li><li><a href="#method.setup_idle_task" title="setup_idle_task">setup_idle_task</a></li><li><a href="#method.setup_idle_task_internal" title="setup_idle_task_internal">setup_idle_task_internal</a></li><li><a href="#method.setup_isst" title="setup_isst">setup_isst</a></li><li><a href="#method.setup_on_cpu" title="setup_on_cpu">setup_on_cpu</a></li><li><a href="#method.setup_tss" title="setup_tss">setup_tss</a></li><li><a href="#method.shared" title="shared">shared</a></li><li><a href="#method.svsm_tr_segment" title="svsm_tr_segment">svsm_tr_segment</a></li><li><a href="#method.unmap_caa" title="unmap_caa">unmap_caa</a></li><li><a href="#method.unmap_guest_vmsa" title="unmap_guest_vmsa">unmap_guest_vmsa</a></li><li><a href="#method.update_apic_emulation" title="update_apic_emulation">update_apic_emulation</a></li><li><a href="#method.update_guest_mappings" title="update_guest_mappings">update_guest_mappings</a></li><li><a href="#method.use_apic_emulation" title="use_apic_emulation">use_apic_emulation</a></li><li><a href="#method.virt_range_init" title="virt_range_init">virt_range_init</a></li><li><a href="#method.vrange_2m" title="vrange_2m">vrange_2m</a></li><li><a href="#method.vrange_2m_mut" title="vrange_2m_mut">vrange_2m_mut</a></li><li><a href="#method.vrange_4k" title="vrange_4k">vrange_4k</a></li><li><a href="#method.vrange_4k_mut" title="vrange_4k_mut">vrange_4k_mut</a></li><li><a href="#method.write_apic_register" title="write_apic_register">write_apic_register</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Debug-for-PerCpu" title="Debug">Debug</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Freeze-for-PerCpu" title="!Freeze">!Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-PerCpu" title="!RefUnwindSafe">!RefUnwindSafe</a></li><li><a href="#impl-UnwindSafe-for-PerCpu" title="!UnwindSafe">!UnwindSafe</a></li><li><a href="#impl-Send-for-PerCpu" title="Send">Send</a></li><li><a href="#impl-Sync-for-PerCpu" title="Sync">Sync</a></li><li><a href="#impl-Unpin-for-PerCpu" title="Unpin">Unpin</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T" title="Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T" title="Borrow&#60;T&#62;">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T" title="BorrowMut&#60;T&#62;">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-From%3CT%3E-for-T" title="From&#60;T&#62;">From&#60;T&#62;</a></li><li><a href="#impl-Into%3CU%3E-for-T" title="Into&#60;U&#62;">Into&#60;U&#62;</a></li><li><a href="#impl-Same-for-T" title="Same">Same</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T" title="TryFrom&#60;U&#62;">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T" title="TryInto&#60;U&#62;">TryInto&#60;U&#62;</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In svsm::<wbr>cpu::<wbr>percpu</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">svsm</a>::<wbr><a href="../index.html">cpu</a>::<wbr><a href="index.html">percpu</a></div><h1>Struct <span class="struct">PerCpu</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/svsm/cpu/percpu.rs.html#375-420">Source</a> </span></div><pre class="rust item-decl"><code>pub struct PerCpu<div class="where">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,</div>{<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 20 fields</span></summary>
    shared: &amp;'static <a class="struct" href="struct.PerCpuShared.html" title="struct svsm::cpu::percpu::PerCpuShared">PerCpuShared</a>,
    apic: <a class="struct" href="../x86/apic/struct.X86Apic.html" title="struct svsm::cpu::x86::apic::X86Apic">X86Apic</a>,
    irq_state: <a class="struct" href="../irq_state/struct.IrqState.html" title="struct svsm::cpu::irq_state::IrqState">IrqState</a>,
    pgtbl: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'static mut <a class="struct" href="../../mm/pagetable/struct.PageTable.html" title="struct svsm::mm::pagetable::PageTable">PageTable</a>&gt;&gt;,
    tss: <a class="struct" href="../tss/struct.X86Tss.html" title="struct svsm::cpu::tss::X86Tss">X86Tss</a>,
    isst: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="struct" href="../isst/struct.Isst.html" title="struct svsm::cpu::isst::Isst">Isst</a>&gt;,
    svsm_vmsa: <a class="struct" href="../../utils/immut_after_init/struct.ImmutAfterInitCell.html" title="struct svsm::utils::immut_after_init::ImmutAfterInitCell">ImmutAfterInitCell</a>&lt;<a class="struct" href="../../sev/vmsa/struct.VmsaPage.html" title="struct svsm::sev::vmsa::VmsaPage">VmsaPage</a>&gt;,
    reset_ip: <a class="struct" href="https://doc.rust-lang.org/1.93.1/core/sync/atomic/struct.AtomicU64.html" title="struct core::sync::atomic::AtomicU64">AtomicU64</a>,
    vm_range: <a class="struct" href="../../mm/vm/struct.VMR.html" title="struct svsm::mm::vm::VMR">VMR</a>,
    vrange_4k: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="struct" href="../../mm/virtualrange/struct.VirtualRange.html" title="struct svsm::mm::virtualrange::VirtualRange">VirtualRange</a>&gt;,
    vrange_2m: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="struct" href="../../mm/virtualrange/struct.VirtualRange.html" title="struct svsm::mm::virtualrange::VirtualRange">VirtualRange</a>&gt;,
    runqueue: <a class="type" href="../../locking/rwlock/type.RWLockIrqSafe.html" title="type svsm::locking::rwlock::RWLockIrqSafe">RWLockIrqSafe</a>&lt;<a class="struct" href="../../task/struct.RunQueue.html" title="struct svsm::task::RunQueue">RunQueue</a>&gt;,
    guest_apic: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../apic/struct.LocalApic.html" title="struct svsm::cpu::apic::LocalApic">LocalApic</a>&gt;&gt;,
    ghcb: <a class="struct" href="../../utils/immut_after_init/struct.ImmutAfterInitCell.html" title="struct svsm::utils::immut_after_init::ImmutAfterInitCell">ImmutAfterInitCell</a>&lt;<a class="struct" href="../../sev/ghcb/struct.GhcbPage.html" title="struct svsm::sev::ghcb::GhcbPage">GhcbPage</a>&gt;,
    hypercall_pages: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../../hyperv/hv/struct.HypercallPage.html" title="struct svsm::hyperv::hv::HypercallPage">HypercallPage</a>, <a class="struct" href="../../hyperv/hv/struct.HypercallPage.html" title="struct svsm::hyperv::hv::HypercallPage">HypercallPage</a>)&gt;&gt;,
    hv_doorbell: <a class="struct" href="../../utils/immut_after_init/struct.ImmutAfterInitCell.html" title="struct svsm::utils::immut_after_init::ImmutAfterInitCell">ImmutAfterInitCell</a>&lt;<a class="struct" href="../../mm/page_visibility/struct.SharedBox.html" title="struct svsm::mm::page_visibility::SharedBox">SharedBox</a>&lt;<a class="struct" href="../../sev/hv_doorbell/struct.HVDoorbell.html" title="struct svsm::sev::hv_doorbell::HVDoorbell">HVDoorbell</a>&gt;&gt;,
    init_shadow_stack: <a class="struct" href="../../utils/immut_after_init/struct.ImmutAfterInitCell.html" title="struct svsm::utils::immut_after_init::ImmutAfterInitCell">ImmutAfterInitCell</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;,
    context_switch_stack: <a class="struct" href="../../utils/immut_after_init/struct.ImmutAfterInitCell.html" title="struct svsm::utils::immut_after_init::ImmutAfterInitCell">ImmutAfterInitCell</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;,
    ist: <a class="struct" href="struct.IstStacks.html" title="struct svsm::cpu::percpu::IstStacks">IstStacks</a>,
    current_stack: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="struct" href="../../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;&gt;,
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>CPU-local data.</p>
<p>While the contents of this struct are never accessed outside the local CPU
(except for the <a href="struct.PerCpuShared.html" title="struct svsm::cpu::percpu::PerCpuShared"><code>PerCpuShared</code></a> portion), reentrant access to the structure
from preempted context essentially behaves as concurrent access, since
the preemption may happen at any instruction boundary. If we use interior
mutability types, the reentrant access may lead to undefined behavior.
Thus, we require that the type is <a href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sync.html" title="trait core::marker::Sync"><code>Sync</code></a>. This is currently enforced by
protecting mutable fields with a <a href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock"><code>RWLock</code></a>. To avoid deadlocks, only the
non-blocking methods in the lock are used, causing an immediate panic when a
reentrant access is attempted.</p>
<p>If the <a href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sync.html" title="trait core::marker::Sync"><code>Sync</code></a> requirement below breaks your build, it means you introduced
interior mutability, which is not safe.</p>
</div></details><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.shared" class="structfield section-header"><a href="#structfield.shared" class="anchor field">§</a><code>shared: &amp;'static <a class="struct" href="struct.PerCpuShared.html" title="struct svsm::cpu::percpu::PerCpuShared">PerCpuShared</a></code></span><div class="docblock"><p>Reference to the <code>PerCpuShared</code> that is valid in the global, shared
address space.</p>
</div><span id="structfield.apic" class="structfield section-header"><a href="#structfield.apic" class="anchor field">§</a><code>apic: <a class="struct" href="../x86/apic/struct.X86Apic.html" title="struct svsm::cpu::x86::apic::X86Apic">X86Apic</a></code></span><div class="docblock"><p>APIC access object</p>
</div><span id="structfield.irq_state" class="structfield section-header"><a href="#structfield.irq_state" class="anchor field">§</a><code>irq_state: <a class="struct" href="../irq_state/struct.IrqState.html" title="struct svsm::cpu::irq_state::IrqState">IrqState</a></code></span><div class="docblock"><p>PerCpu IRQ state tracking</p>
</div><span id="structfield.pgtbl" class="structfield section-header"><a href="#structfield.pgtbl" class="anchor field">§</a><code>pgtbl: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'static mut <a class="struct" href="../../mm/pagetable/struct.PageTable.html" title="struct svsm::mm::pagetable::PageTable">PageTable</a>&gt;&gt;</code></span><span id="structfield.tss" class="structfield section-header"><a href="#structfield.tss" class="anchor field">§</a><code>tss: <a class="struct" href="../tss/struct.X86Tss.html" title="struct svsm::cpu::tss::X86Tss">X86Tss</a></code></span><span id="structfield.isst" class="structfield section-header"><a href="#structfield.isst" class="anchor field">§</a><code>isst: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="struct" href="../isst/struct.Isst.html" title="struct svsm::cpu::isst::Isst">Isst</a>&gt;</code></span><span id="structfield.svsm_vmsa" class="structfield section-header"><a href="#structfield.svsm_vmsa" class="anchor field">§</a><code>svsm_vmsa: <a class="struct" href="../../utils/immut_after_init/struct.ImmutAfterInitCell.html" title="struct svsm::utils::immut_after_init::ImmutAfterInitCell">ImmutAfterInitCell</a>&lt;<a class="struct" href="../../sev/vmsa/struct.VmsaPage.html" title="struct svsm::sev::vmsa::VmsaPage">VmsaPage</a>&gt;</code></span><span id="structfield.reset_ip" class="structfield section-header"><a href="#structfield.reset_ip" class="anchor field">§</a><code>reset_ip: <a class="struct" href="https://doc.rust-lang.org/1.93.1/core/sync/atomic/struct.AtomicU64.html" title="struct core::sync::atomic::AtomicU64">AtomicU64</a></code></span><span id="structfield.vm_range" class="structfield section-header"><a href="#structfield.vm_range" class="anchor field">§</a><code>vm_range: <a class="struct" href="../../mm/vm/struct.VMR.html" title="struct svsm::mm::vm::VMR">VMR</a></code></span><div class="docblock"><p>PerCpu Virtual Memory Range</p>
</div><span id="structfield.vrange_4k" class="structfield section-header"><a href="#structfield.vrange_4k" class="anchor field">§</a><code>vrange_4k: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="struct" href="../../mm/virtualrange/struct.VirtualRange.html" title="struct svsm::mm::virtualrange::VirtualRange">VirtualRange</a>&gt;</code></span><div class="docblock"><p>Address allocator for per-cpu 4k temporary mappings</p>
</div><span id="structfield.vrange_2m" class="structfield section-header"><a href="#structfield.vrange_2m" class="anchor field">§</a><code>vrange_2m: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="struct" href="../../mm/virtualrange/struct.VirtualRange.html" title="struct svsm::mm::virtualrange::VirtualRange">VirtualRange</a>&gt;</code></span><div class="docblock"><p>Address allocator for per-cpu 2m temporary mappings</p>
</div><span id="structfield.runqueue" class="structfield section-header"><a href="#structfield.runqueue" class="anchor field">§</a><code>runqueue: <a class="type" href="../../locking/rwlock/type.RWLockIrqSafe.html" title="type svsm::locking::rwlock::RWLockIrqSafe">RWLockIrqSafe</a>&lt;<a class="struct" href="../../task/struct.RunQueue.html" title="struct svsm::task::RunQueue">RunQueue</a>&gt;</code></span><div class="docblock"><p>Task list that has been assigned for scheduling on this CPU</p>
</div><span id="structfield.guest_apic" class="structfield section-header"><a href="#structfield.guest_apic" class="anchor field">§</a><code>guest_apic: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../apic/struct.LocalApic.html" title="struct svsm::cpu::apic::LocalApic">LocalApic</a>&gt;&gt;</code></span><div class="docblock"><p>Local APIC state for APIC emulation if enabled</p>
</div><span id="structfield.ghcb" class="structfield section-header"><a href="#structfield.ghcb" class="anchor field">§</a><code>ghcb: <a class="struct" href="../../utils/immut_after_init/struct.ImmutAfterInitCell.html" title="struct svsm::utils::immut_after_init::ImmutAfterInitCell">ImmutAfterInitCell</a>&lt;<a class="struct" href="../../sev/ghcb/struct.GhcbPage.html" title="struct svsm::sev::ghcb::GhcbPage">GhcbPage</a>&gt;</code></span><div class="docblock"><p>GHCB page for this CPU.</p>
</div><span id="structfield.hypercall_pages" class="structfield section-header"><a href="#structfield.hypercall_pages" class="anchor field">§</a><code>hypercall_pages: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../../hyperv/hv/struct.HypercallPage.html" title="struct svsm::hyperv::hv::HypercallPage">HypercallPage</a>, <a class="struct" href="../../hyperv/hv/struct.HypercallPage.html" title="struct svsm::hyperv::hv::HypercallPage">HypercallPage</a>)&gt;&gt;</code></span><div class="docblock"><p>Hypercall input/output pages for this CPU if running under Hyper-V.</p>
</div><span id="structfield.hv_doorbell" class="structfield section-header"><a href="#structfield.hv_doorbell" class="anchor field">§</a><code>hv_doorbell: <a class="struct" href="../../utils/immut_after_init/struct.ImmutAfterInitCell.html" title="struct svsm::utils::immut_after_init::ImmutAfterInitCell">ImmutAfterInitCell</a>&lt;<a class="struct" href="../../mm/page_visibility/struct.SharedBox.html" title="struct svsm::mm::page_visibility::SharedBox">SharedBox</a>&lt;<a class="struct" href="../../sev/hv_doorbell/struct.HVDoorbell.html" title="struct svsm::sev::hv_doorbell::HVDoorbell">HVDoorbell</a>&gt;&gt;</code></span><div class="docblock"><p><code>#HV</code> doorbell page for this CPU.</p>
</div><span id="structfield.init_shadow_stack" class="structfield section-header"><a href="#structfield.init_shadow_stack" class="anchor field">§</a><code>init_shadow_stack: <a class="struct" href="../../utils/immut_after_init/struct.ImmutAfterInitCell.html" title="struct svsm::utils::immut_after_init::ImmutAfterInitCell">ImmutAfterInitCell</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;</code></span><span id="structfield.context_switch_stack" class="structfield section-header"><a href="#structfield.context_switch_stack" class="anchor field">§</a><code>context_switch_stack: <a class="struct" href="../../utils/immut_after_init/struct.ImmutAfterInitCell.html" title="struct svsm::utils::immut_after_init::ImmutAfterInitCell">ImmutAfterInitCell</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;</code></span><span id="structfield.ist" class="structfield section-header"><a href="#structfield.ist" class="anchor field">§</a><code>ist: <a class="struct" href="struct.IstStacks.html" title="struct svsm::cpu::percpu::IstStacks">IstStacks</a></code></span><span id="structfield.current_stack" class="structfield section-header"><a href="#structfield.current_stack" class="anchor field">§</a><code>current_stack: <a class="type" href="../../locking/rwlock/type.RWLock.html" title="type svsm::locking::rwlock::RWLock">RWLock</a>&lt;<a class="struct" href="../../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;&gt;</code></span><div class="docblock"><p>Stack boundaries of the currently running task.</p>
</div><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-PerCpu" class="impl"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#422-1237">Source</a><a href="#impl-PerCpu" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#424-453">Source</a><h4 class="code-header">fn <a href="#method.new" class="fn">new</a>(shared: &amp;'static <a class="struct" href="struct.PerCpuShared.html" title="struct svsm::cpu::percpu::PerCpuShared">PerCpuShared</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Creates a new default <a href="struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu"><code>PerCpu</code></a> struct.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.alloc" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#457-461">Source</a><h4 class="code-header">pub fn <a href="#method.alloc" class="fn">alloc</a>(shared: &amp;'static <a class="struct" href="struct.PerCpuShared.html" title="struct svsm::cpu::percpu::PerCpuShared">PerCpuShared</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;'static Self, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Creates a new default <a href="struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu"><code>PerCpu</code></a> struct, allocates it via the page
allocator and adds it to the global per-cpu area list.</p>
</div></details><section id="method.shared" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#463-465">Source</a><h4 class="code-header">pub fn <a href="#method.shared" class="fn">shared</a>(&amp;self) -&gt; &amp;<a class="struct" href="struct.PerCpuShared.html" title="struct svsm::cpu::percpu::PerCpuShared">PerCpuShared</a></h4></section><section id="method.initialize_apic" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#467-469">Source</a><h4 class="code-header">pub fn <a href="#method.initialize_apic" class="fn">initialize_apic</a>(&amp;self, accessor: &amp;'static dyn <a class="trait" href="../x86/apic/trait.ApicAccess.html" title="trait svsm::cpu::x86::apic::ApicAccess">ApicAccess</a>)</h4></section><details class="toggle method-toggle" open><summary><section id="method.get_apic" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#476-478">Source</a><h4 class="code-header">pub fn <a href="#method.get_apic" class="fn">get_apic</a>(&amp;self) -&gt; &amp;<a class="struct" href="../x86/apic/struct.X86Apic.html" title="struct svsm::cpu::x86::apic::X86Apic">X86Apic</a></h4></section></summary><div class="docblock"><p>Get a reference to the <a href="../x86/apic/struct.X86Apic.html" title="struct svsm::cpu::x86::apic::X86Apic"><code>X86Apic</code></a> object for this cpu.</p>
<h5 id="returns"><a class="doc-anchor" href="#returns">§</a>Returns</h5>
<p>Reference to the <a href="../x86/apic/struct.X86Apic.html" title="struct svsm::cpu::x86::apic::X86Apic"><code>X86Apic</code></a> object of the local CPU.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.irqs_disable" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#486-488">Source</a><h4 class="code-header">pub fn <a href="#method.irqs_disable" class="fn">irqs_disable</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Disables IRQs on the current CPU. Keeps track of the nesting level and
the original IRQ state.</p>
<p>Caller needs to make sure to match every <code>disable()</code> call with an
<code>enable()</code> call.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.irqs_enable" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#496-498">Source</a><h4 class="code-header">pub fn <a href="#method.irqs_enable" class="fn">irqs_enable</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Reduces IRQ-disable nesting level on the current CPU and restores the
original IRQ state when the level reaches 0.</p>
<p>Caller needs to make sure to match every <code>disable()</code> call with an
<code>enable()</code> call.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.irqs_push_nesting" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#507-509">Source</a><h4 class="code-header">pub fn <a href="#method.irqs_push_nesting" class="fn">irqs_push_nesting</a>(&amp;self, was_enabled: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>)</h4></section></summary><div class="docblock"><p>Increments IRQ-disable nesting level on the current CPU without
disabling interrupts.  This is used by exception and interrupt dispatch
routines that have already disabled interrupts.</p>
<p>Caller needs to make sure to match every <code>push_nesting()</code> call with a
<code>pop_nesting()</code> call.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.irqs_pop_nesting" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#519-521">Source</a><h4 class="code-header">pub fn <a href="#method.irqs_pop_nesting" class="fn">irqs_pop_nesting</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Reduces IRQ-disable nesting level on the current CPU without restoring
the original IRQ state original IRQ state.  This is used by exception
and interrupt dispatch routines that will restore interrupt state
naturally.</p>
<p>Caller needs to make sure to match every <code>disable()</code> call with a
<code>pop_state()</code> call.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.irq_nesting_count" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#528-530">Source</a><h4 class="code-header">pub fn <a href="#method.irq_nesting_count" class="fn">irq_nesting_count</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.i32.html">i32</a></h4></section></summary><div class="docblock"><p>Get IRQ-disable nesting count on the current CPU</p>
<h5 id="returns-1"><a class="doc-anchor" href="#returns-1">§</a>Returns</h5>
<p>Current nesting depth of irq_disable() calls.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.raise_tpr" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#537-539">Source</a><h4 class="code-header">pub fn <a href="#method.raise_tpr" class="fn">raise_tpr</a>(&amp;self, tpr_value: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.usize.html">usize</a>)</h4></section></summary><div class="docblock"><p>Raises TPR on the current CPU.  Keeps track of the nesting level.</p>
<p>The caller must ensure that every <code>raise_tpr()</code> call is followed by a
matching call to <code>lower_tpr()</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.lower_tpr" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#550-552">Source</a><h4 class="code-header">pub fn <a href="#method.lower_tpr" class="fn">lower_tpr</a>(&amp;self, tpr_value: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.usize.html">usize</a>)</h4></section></summary><div class="docblock"><p>Lowers TPR from the current level to the new level required by the
current nesting state.</p>
<p>The caller must ensure that a <code>lower_tpr()</code> call balances a preceding
<code>raise_tpr()</code> call to the indicated level.</p>
<ul>
<li><code>tpr_value</code> - The TPR from which the caller would like to lower.
Must be less than or equal to the current TPR.</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.setup_ghcb" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#555-558">Source</a><h4 class="code-header">pub fn <a href="#method.setup_ghcb" class="fn">setup_ghcb</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Sets up the CPU-local GHCB page.</p>
</div></details><section id="method.ghcb" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#560-562">Source</a><h4 class="code-header">fn <a href="#method.ghcb" class="fn">ghcb</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../sev/ghcb/struct.GhcbPage.html" title="struct svsm::sev::ghcb::GhcbPage">GhcbPage</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.allocate_hypercall_pages" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#565-570">Source</a><h4 class="code-header">pub fn <a href="#method.allocate_hypercall_pages" class="fn">allocate_hypercall_pages</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Allocates hypercall input/output pages for this CPU.</p>
</div></details><section id="method.get_hypercall_pages" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#572-577">Source</a><h4 class="code-header">pub fn <a href="#method.get_hypercall_pages" class="fn">get_hypercall_pages</a>(&amp;self) -&gt; <a class="struct" href="../../hyperv/hv/struct.HypercallPagesGuard.html" title="struct svsm::hyperv::hv::HypercallPagesGuard">HypercallPagesGuard</a>&lt;'_&gt;</h4></section><section id="method.hv_doorbell" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#579-581">Source</a><h4 class="code-header">pub fn <a href="#method.hv_doorbell" class="fn">hv_doorbell</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../sev/hv_doorbell/struct.HVDoorbell.html" title="struct svsm::sev::hv_doorbell::HVDoorbell">HVDoorbell</a>&gt;</h4></section><section id="method.process_hv_events_if_required" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#583-587">Source</a><h4 class="code-header">pub fn <a href="#method.process_hv_events_if_required" class="fn">process_hv_events_if_required</a>(&amp;self)</h4></section><details class="toggle method-toggle" open><summary><section id="method.hv_doorbell_addr" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#591-597">Source</a><h4 class="code-header">pub fn <a href="#method.hv_doorbell_addr" class="fn">hv_doorbell_addr</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.pointer.html">*const </a><a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.pointer.html">*const </a><a class="struct" href="../../sev/hv_doorbell/struct.HVDoorbell.html" title="struct svsm::sev::hv_doorbell::HVDoorbell">HVDoorbell</a></h4></section></summary><div class="docblock"><p>Gets a pointer to the location of the HV doorbell pointer in the
PerCpu structure.</p>
</div></details><section id="method.get_top_of_shadow_stack" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#599-601">Source</a><h4 class="code-header">pub fn <a href="#method.get_top_of_shadow_stack" class="fn">get_top_of_shadow_stack</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;</h4></section><section id="method.get_top_of_context_switch_stack" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#603-605">Source</a><h4 class="code-header">pub fn <a href="#method.get_top_of_context_switch_stack" class="fn">get_top_of_context_switch_stack</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;</h4></section><section id="method.get_top_of_df_stack" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#607-609">Source</a><h4 class="code-header">pub fn <a href="#method.get_top_of_df_stack" class="fn">get_top_of_df_stack</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;</h4></section><section id="method.get_top_of_df_shadow_stack" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#611-617">Source</a><h4 class="code-header">pub fn <a href="#method.get_top_of_df_shadow_stack" class="fn">get_top_of_df_shadow_stack</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;</h4></section><section id="method.get_current_stack" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#619-621">Source</a><h4 class="code-header">pub fn <a href="#method.get_current_stack" class="fn">get_current_stack</a>(&amp;self) -&gt; <a class="struct" href="../../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;</h4></section><section id="method.set_current_stack" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#623-625">Source</a><h4 class="code-header">pub fn <a href="#method.set_current_stack" class="fn">set_current_stack</a>(&amp;self, stack: <a class="struct" href="../../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;)</h4></section><section id="method.get_cpu_index" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#627-629">Source</a><h4 class="code-header">pub fn <a href="#method.get_cpu_index" class="fn">get_cpu_index</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.usize.html">usize</a></h4></section><section id="method.get_apic_id" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#631-633">Source</a><h4 class="code-header">pub fn <a href="#method.get_apic_id" class="fn">get_apic_id</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u32.html">u32</a></h4></section><section id="method.init_page_table" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#635-644">Source</a><h4 class="code-header">pub fn <a href="#method.init_page_table" class="fn">init_page_table</a>(
    &amp;self,
    pgtable: <a class="struct" href="../../mm/struct.PageBox.html" title="struct svsm::mm::PageBox">PageBox</a>&lt;<a class="struct" href="../../mm/pagetable/struct.PageTable.html" title="struct svsm::mm::pagetable::PageTable">PageTable</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.set_pgtable" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#646-648">Source</a><h4 class="code-header">pub fn <a href="#method.set_pgtable" class="fn">set_pgtable</a>(&amp;self, pgtable: &amp;'static mut <a class="struct" href="../../mm/pagetable/struct.PageTable.html" title="struct svsm::mm::pagetable::PageTable">PageTable</a>)</h4></section><section id="method.allocate_stack" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#650-658">Source</a><h4 class="code-header">fn <a href="#method.allocate_stack" class="fn">allocate_stack</a>(&amp;self, base: <a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.allocate_shadow_stack" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#660-673">Source</a><h4 class="code-header">fn <a href="#method.allocate_shadow_stack" class="fn">allocate_shadow_stack</a>(
    &amp;self,
    base: <a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>,
    init: <a class="enum" href="../shadow_stack/enum.ShadowStackInit.html" title="enum svsm::cpu::shadow_stack::ShadowStackInit">ShadowStackInit</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.allocate_init_shadow_stack" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#675-680">Source</a><h4 class="code-header">fn <a href="#method.allocate_init_shadow_stack" class="fn">allocate_init_shadow_stack</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.allocate_context_switch_stack" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#682-686">Source</a><h4 class="code-header">fn <a href="#method.allocate_context_switch_stack" class="fn">allocate_context_switch_stack</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.allocate_context_switch_shadow_stack" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#688-694">Source</a><h4 class="code-header">fn <a href="#method.allocate_context_switch_shadow_stack" class="fn">allocate_context_switch_shadow_stack</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.allocate_ist_stacks" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#696-701">Source</a><h4 class="code-header">fn <a href="#method.allocate_ist_stacks" class="fn">allocate_ist_stacks</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.allocate_isst_shadow_stacks" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#703-709">Source</a><h4 class="code-header">fn <a href="#method.allocate_isst_shadow_stacks" class="fn">allocate_isst_shadow_stacks</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.get_pgtable" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#711-715">Source</a><h4 class="code-header">pub fn <a href="#method.get_pgtable" class="fn">get_pgtable</a>(&amp;self) -&gt; <a class="type" href="../../locking/rwlock/type.WriteLockGuard.html" title="type svsm::locking::rwlock::WriteLockGuard">WriteLockGuard</a>&lt;'_, <a class="struct" href="../../mm/pagetable/struct.PageTable.html" title="struct svsm::mm::pagetable::PageTable">PageTable</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.register_ghcb" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#723-725">Source</a><h4 class="code-header">pub fn <a href="#method.register_ghcb" class="fn">register_ghcb</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Registers an already set up GHCB page for this CPU.</p>
<h5 id="panics"><a class="doc-anchor" href="#panics">§</a>Panics</h5>
<p>Panics if the GHCB for this CPU has not been set up via
<a href="struct.PerCpu.html#method.setup_ghcb" title="method svsm::cpu::percpu::PerCpu::setup_ghcb"><code>PerCpu::setup_ghcb()</code></a>.</p>
</div></details><section id="method.setup_hv_doorbell" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#727-731">Source</a><h4 class="code-header">pub fn <a href="#method.setup_hv_doorbell" class="fn">setup_hv_doorbell</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.setup_tss" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#733-739">Source</a><h4 class="code-header">fn <a href="#method.setup_tss" class="fn">setup_tss</a>(&amp;self)</h4></section><section id="method.setup_isst" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#741-746">Source</a><h4 class="code-header">fn <a href="#method.setup_isst" class="fn">setup_isst</a>(&amp;self)</h4></section><section id="method.map_self_stage2" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#748-753">Source</a><h4 class="code-header">pub fn <a href="#method.map_self_stage2" class="fn">map_self_stage2</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.map_self" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#755-761">Source</a><h4 class="code-header">pub fn <a href="#method.map_self" class="fn">map_self</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.initialize_vm_ranges" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#763-775">Source</a><h4 class="code-header">fn <a href="#method.initialize_vm_ranges" class="fn">initialize_vm_ranges</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.finish_page_table" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#777-780">Source</a><h4 class="code-header">fn <a href="#method.finish_page_table" class="fn">finish_page_table</a>(&amp;self)</h4></section><section id="method.dump_vm_ranges" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#782-784">Source</a><h4 class="code-header">pub fn <a href="#method.dump_vm_ranges" class="fn">dump_vm_ranges</a>(&amp;self)</h4></section><section id="method.setup" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#786-839">Source</a><h4 class="code-header">pub fn <a href="#method.setup" class="fn">setup</a>(
    &amp;self,
    platform: &amp;dyn <a class="trait" href="../../platform/trait.SvsmPlatform.html" title="trait svsm::platform::SvsmPlatform">SvsmPlatform</a>,
    pgtable: <a class="struct" href="../../mm/struct.PageBox.html" title="struct svsm::mm::PageBox">PageBox</a>&lt;<a class="struct" href="../../mm/pagetable/struct.PageTable.html" title="struct svsm::mm::pagetable::PageTable">PageTable</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.setup_on_cpu" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#842-846">Source</a><h4 class="code-header">pub fn <a href="#method.setup_on_cpu" class="fn">setup_on_cpu</a>(&amp;self, platform: &amp;dyn <a class="trait" href="../../platform/trait.SvsmPlatform.html" title="trait svsm::platform::SvsmPlatform">SvsmPlatform</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.setup_idle_task_internal" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#848-852">Source</a><h4 class="code-header">fn <a href="#method.setup_idle_task_internal" class="fn">setup_idle_task_internal</a>(
    &amp;self,
    start_info: <a class="struct" href="../../task/struct.KernelThreadStartInfo.html" title="struct svsm::task::KernelThreadStartInfo">KernelThreadStartInfo</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.setup_idle_task" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#854-859">Source</a><h4 class="code-header">pub fn <a href="#method.setup_idle_task" class="fn">setup_idle_task</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.setup_bsp_idle_task" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#861-863">Source</a><h4 class="code-header">pub fn <a href="#method.setup_bsp_idle_task" class="fn">setup_bsp_idle_task</a>(
    &amp;self,
    start_info: <a class="struct" href="../../task/struct.KernelThreadStartInfo.html" title="struct svsm::task::KernelThreadStartInfo">KernelThreadStartInfo</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.load_gdt_tss" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#865-874">Source</a><h4 class="code-header">pub fn <a href="#method.load_gdt_tss" class="fn">load_gdt_tss</a>(&amp;'static self, init_gdt: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>)</h4></section><section id="method.load_isst" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#876-880">Source</a><h4 class="code-header">pub fn <a href="#method.load_isst" class="fn">load_isst</a>(&amp;self)</h4></section><section id="method.load" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#882-890">Source</a><h4 class="code-header">pub fn <a href="#method.load" class="fn">load</a>(&amp;'static self)</h4></section><section id="method.set_reset_ip" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#892-894">Source</a><h4 class="code-header">pub fn <a href="#method.set_reset_ip" class="fn">set_reset_ip</a>(&amp;self, reset_ip: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>)</h4></section><details class="toggle method-toggle" open><summary><section id="method.get_initial_context" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#897-930">Source</a><h4 class="code-header">pub fn <a href="#method.get_initial_context" class="fn">get_initial_context</a>(&amp;self, start_rip: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>) -&gt; <a class="struct" href="../../hyperv/struct.HvInitialVpContext.html" title="struct svsm::hyperv::HvInitialVpContext">HvInitialVpContext</a></h4></section></summary><div class="docblock"><p>Fill in the initial context structure for the SVSM.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.alloc_svsm_vmsa" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#935-947">Source</a><h4 class="code-header">pub fn <a href="#method.alloc_svsm_vmsa" class="fn">alloc_svsm_vmsa</a>(
    &amp;self,
    vtom: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>,
    start_rip: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="../../address/struct.PhysAddr.html" title="struct svsm::address::PhysAddr">PhysAddr</a>, <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>), <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Allocates and initializes a new VMSA for this CPU. Returns its
physical address and SEV features. Returns an error if allocation
fails of this CPU’s VMSA was already initialized.</p>
</div></details><section id="method.unmap_guest_vmsa" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#949-953">Source</a><h4 class="code-header">fn <a href="#method.unmap_guest_vmsa" class="fn">unmap_guest_vmsa</a>(&amp;self)</h4></section><section id="method.map_guest_vmsa" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#955-962">Source</a><h4 class="code-header">fn <a href="#method.map_guest_vmsa" class="fn">map_guest_vmsa</a>(&amp;self, paddr: <a class="struct" href="../../address/struct.PhysAddr.html" title="struct svsm::address::PhysAddr">PhysAddr</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.guest_vmsa_ref" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#964-966">Source</a><h4 class="code-header">pub fn <a href="#method.guest_vmsa_ref" class="fn">guest_vmsa_ref</a>(&amp;self) -&gt; <a class="type" href="../../locking/spinlock/type.LockGuard.html" title="type svsm::locking::spinlock::LockGuard">LockGuard</a>&lt;'_, <a class="struct" href="struct.GuestVmsaRef.html" title="struct svsm::cpu::percpu::GuestVmsaRef">GuestVmsaRef</a>&gt;</h4></section><section id="method.alloc_guest_vmsa" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#968-992">Source</a><h4 class="code-header">pub fn <a href="#method.alloc_guest_vmsa" class="fn">alloc_guest_vmsa</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.guest_apic" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#996-999">Source</a><h4 class="code-header">fn <a href="#method.guest_apic" class="fn">guest_apic</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../locking/rwlock/type.ReadLockGuard.html" title="type svsm::locking::rwlock::ReadLockGuard">ReadLockGuard</a>&lt;'_, <a class="struct" href="../apic/struct.LocalApic.html" title="struct svsm::cpu::apic::LocalApic">LocalApic</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns a shared reference to the local APIC, or <code>None</code> if APIC
emulation is not enabled.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.guest_apic_mut" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1003-1006">Source</a><h4 class="code-header">fn <a href="#method.guest_apic_mut" class="fn">guest_apic_mut</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../locking/rwlock/type.WriteLockGuard.html" title="type svsm::locking::rwlock::WriteLockGuard">WriteLockGuard</a>&lt;'_, <a class="struct" href="../apic/struct.LocalApic.html" title="struct svsm::cpu::apic::LocalApic">LocalApic</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns a mutable reference to the local APIC, or <code>None</code> if APIC
emulation is not enabled.</p>
</div></details><section id="method.unmap_caa" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1008-1011">Source</a><h4 class="code-header">fn <a href="#method.unmap_caa" class="fn">unmap_caa</a>(&amp;self)</h4></section><section id="method.map_guest_caa" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1013-1020">Source</a><h4 class="code-header">fn <a href="#method.map_guest_caa" class="fn">map_guest_caa</a>(&amp;self, paddr: <a class="struct" href="../../address/struct.PhysAddr.html" title="struct svsm::address::PhysAddr">PhysAddr</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.update_guest_mappings" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1022-1050">Source</a><h4 class="code-header">pub fn <a href="#method.update_guest_mappings" class="fn">update_guest_mappings</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.disable_apic_emulation" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1052-1059">Source</a><h4 class="code-header">pub fn <a href="#method.disable_apic_emulation" class="fn">disable_apic_emulation</a>(&amp;self)</h4></section><section id="method.clear_pending_interrupts" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1061-1068">Source</a><h4 class="code-header">pub fn <a href="#method.clear_pending_interrupts" class="fn">clear_pending_interrupts</a>(&amp;self)</h4></section><section id="method.update_apic_emulation" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1070-1074">Source</a><h4 class="code-header">pub fn <a href="#method.update_apic_emulation" class="fn">update_apic_emulation</a>(
    &amp;self,
    vmsa: &amp;mut VMSA,
    caa: <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.93.1/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="struct" href="../../requests/struct.SvsmCaa.html" title="struct svsm::requests::SvsmCaa">SvsmCaa</a>&gt;&gt;,
)</h4></section><section id="method.ai_handle_intercepts" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1076-1095">Source</a><h4 class="code-header">pub fn <a href="#method.ai_handle_intercepts" class="fn">ai_handle_intercepts</a>(&amp;self, vmsa: &amp;mut VMSA)</h4></section><section id="method.use_apic_emulation" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1097-1099">Source</a><h4 class="code-header">pub fn <a href="#method.use_apic_emulation" class="fn">use_apic_emulation</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a></h4></section><section id="method.read_apic_register" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1101-1108">Source</a><h4 class="code-header">pub fn <a href="#method.read_apic_register" class="fn">read_apic_register</a>(&amp;self, register: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.write_apic_register" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1110-1117">Source</a><h4 class="code-header">pub fn <a href="#method.write_apic_register" class="fn">write_apic_register</a>(
    &amp;self,
    register: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>,
    value: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.configure_apic_vector" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1119-1124">Source</a><h4 class="code-header">pub fn <a href="#method.configure_apic_vector" class="fn">configure_apic_vector</a>(
    &amp;self,
    vector: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u8.html">u8</a>,
    allowed: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.svsm_tr_segment" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1126-1133">Source</a><h4 class="code-header">fn <a href="#method.svsm_tr_segment" class="fn">svsm_tr_segment</a>(&amp;self) -&gt; <a class="struct" href="../../hyperv/struct.HvSegmentRegister.html" title="struct svsm::hyperv::HvSegmentRegister">HvSegmentRegister</a></h4></section><section id="method.virt_range_init" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1135-1147">Source</a><h4 class="code-header">fn <a href="#method.virt_range_init" class="fn">virt_range_init</a>(&amp;self)</h4></section><details class="toggle method-toggle" open><summary><section id="method.new_mapping" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1161-1163">Source</a><h4 class="code-header">pub fn <a href="#method.new_mapping" class="fn">new_mapping</a>(
    &amp;self,
    mapping: <a class="struct" href="https://doc.rust-lang.org/1.93.1/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../../mm/vm/struct.Mapping.html" title="struct svsm::mm::vm::Mapping">Mapping</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../mm/vm/struct.VMRMapping.html" title="struct svsm::mm::vm::VMRMapping">VMRMapping</a>&lt;'_&gt;, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Create a new virtual memory mapping in the PerCpu VMR</p>
<h5 id="arguments"><a class="doc-anchor" href="#arguments">§</a>Arguments</h5>
<ul>
<li><code>mapping</code> - The mapping to insert into the PerCpu VMR</li>
</ul>
<h5 id="returns-2"><a class="doc-anchor" href="#returns-2">§</a>Returns</h5>
<p>On success, a new [‘VMRMapping’} that provides a virtual memory address for
the mapping which remains valid until the [‘VRMapping’] is dropped.</p>
<p>On error, an [‘SvsmError’].</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.populate_page_table" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1170-1172">Source</a><h4 class="code-header">pub fn <a href="#method.populate_page_table" class="fn">populate_page_table</a>(&amp;self, pt: &amp;mut <a class="struct" href="../../mm/pagetable/struct.PageTable.html" title="struct svsm::mm::pagetable::PageTable">PageTable</a>)</h4></section></summary><div class="docblock"><p>Add the PerCpu virtual range into the provided pagetable</p>
<h5 id="arguments-1"><a class="doc-anchor" href="#arguments-1">§</a>Arguments</h5>
<ul>
<li><code>pt</code> - The page table to populate the the PerCpu range into</li>
</ul>
</div></details><section id="method.handle_pf" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1174-1176">Source</a><h4 class="code-header">pub fn <a href="#method.handle_pf" class="fn">handle_pf</a>(&amp;self, vaddr: <a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>, write: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section><section id="method.schedule_init" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1178-1183">Source</a><h4 class="code-header">pub fn <a href="#method.schedule_init" class="fn">schedule_init</a>(&amp;self) -&gt; <a class="type" href="../../task/type.TaskPointer.html" title="type svsm::task::TaskPointer">TaskPointer</a></h4></section><section id="method.disable_interrupt_use" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1185-1189">Source</a><h4 class="code-header">pub fn <a href="#method.disable_interrupt_use" class="fn">disable_interrupt_use</a>(&amp;self)</h4></section><section id="method.schedule_prepare" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1191-1197">Source</a><h4 class="code-header">pub fn <a href="#method.schedule_prepare" class="fn">schedule_prepare</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="type" href="../../task/type.TaskPointer.html" title="type svsm::task::TaskPointer">TaskPointer</a>, <a class="type" href="../../task/type.TaskPointer.html" title="type svsm::task::TaskPointer">TaskPointer</a>)&gt;</h4></section><section id="method.runqueue" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1199-1201">Source</a><h4 class="code-header">pub fn <a href="#method.runqueue" class="fn">runqueue</a>(&amp;self) -&gt; <a class="type" href="../../locking/rwlock/type.ReadLockGuardIrqSafe.html" title="type svsm::locking::rwlock::ReadLockGuardIrqSafe">ReadLockGuardIrqSafe</a>&lt;'_, <a class="struct" href="../../task/struct.RunQueue.html" title="struct svsm::task::RunQueue">RunQueue</a>&gt;</h4></section><section id="method.runqueue_mut" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1203-1205">Source</a><h4 class="code-header">pub fn <a href="#method.runqueue_mut" class="fn">runqueue_mut</a>(&amp;self) -&gt; <a class="type" href="../../locking/rwlock/type.WriteLockGuardIrqSafe.html" title="type svsm::locking::rwlock::WriteLockGuardIrqSafe">WriteLockGuardIrqSafe</a>&lt;'_, <a class="struct" href="../../task/struct.RunQueue.html" title="struct svsm::task::RunQueue">RunQueue</a>&gt;</h4></section><section id="method.current_task" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1207-1209">Source</a><h4 class="code-header">pub fn <a href="#method.current_task" class="fn">current_task</a>(&amp;self) -&gt; <a class="type" href="../../task/type.TaskPointer.html" title="type svsm::task::TaskPointer">TaskPointer</a></h4></section><section id="method.vrange_4k" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1211-1213">Source</a><h4 class="code-header">pub fn <a href="#method.vrange_4k" class="fn">vrange_4k</a>(&amp;self) -&gt; <a class="type" href="../../locking/rwlock/type.ReadLockGuard.html" title="type svsm::locking::rwlock::ReadLockGuard">ReadLockGuard</a>&lt;'_, <a class="struct" href="../../mm/virtualrange/struct.VirtualRange.html" title="struct svsm::mm::virtualrange::VirtualRange">VirtualRange</a>&gt;</h4></section><section id="method.vrange_4k_mut" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1215-1217">Source</a><h4 class="code-header">pub fn <a href="#method.vrange_4k_mut" class="fn">vrange_4k_mut</a>(&amp;self) -&gt; <a class="type" href="../../locking/rwlock/type.WriteLockGuard.html" title="type svsm::locking::rwlock::WriteLockGuard">WriteLockGuard</a>&lt;'_, <a class="struct" href="../../mm/virtualrange/struct.VirtualRange.html" title="struct svsm::mm::virtualrange::VirtualRange">VirtualRange</a>&gt;</h4></section><section id="method.vrange_2m" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1219-1221">Source</a><h4 class="code-header">pub fn <a href="#method.vrange_2m" class="fn">vrange_2m</a>(&amp;self) -&gt; <a class="type" href="../../locking/rwlock/type.ReadLockGuard.html" title="type svsm::locking::rwlock::ReadLockGuard">ReadLockGuard</a>&lt;'_, <a class="struct" href="../../mm/virtualrange/struct.VirtualRange.html" title="struct svsm::mm::virtualrange::VirtualRange">VirtualRange</a>&gt;</h4></section><section id="method.vrange_2m_mut" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1223-1225">Source</a><h4 class="code-header">pub fn <a href="#method.vrange_2m_mut" class="fn">vrange_2m_mut</a>(&amp;self) -&gt; <a class="type" href="../../locking/rwlock/type.WriteLockGuard.html" title="type svsm::locking::rwlock::WriteLockGuard">WriteLockGuard</a>&lt;'_, <a class="struct" href="../../mm/virtualrange/struct.VirtualRange.html" title="struct svsm::mm::virtualrange::VirtualRange">VirtualRange</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.set_tss_rsp0" class="method"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#1230-1236">Source</a><h4 class="code-header">pub unsafe fn <a href="#method.set_tss_rsp0" class="fn">set_tss_rsp0</a>(&amp;self, addr: <a class="struct" href="../../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>)</h4></section></summary><div class="docblock"><h5 id="safety"><a class="doc-anchor" href="#safety">§</a>Safety</h5>
<p>No checks are performed on the stack address.  The caller must
ensure that the address is valid for stack usage.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-PerCpu" class="impl"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#374">Source</a><a href="#impl-Debug-for-PerCpu" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a><div class="where">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../../../src/svsm/cpu/percpu.rs.html#374">Source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.93.1/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.93.1/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/1.93.1/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/1.93.1/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-PerCpu" class="impl"><a href="#impl-Freeze-for-PerCpu" class="anchor">§</a><h3 class="code-header">impl !<a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a></h3></section><section id="impl-RefUnwindSafe-for-PerCpu" class="impl"><a href="#impl-RefUnwindSafe-for-PerCpu" class="anchor">§</a><h3 class="code-header">impl !<a class="trait" href="https://doc.rust-lang.org/1.93.1/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a></h3></section><section id="impl-Send-for-PerCpu" class="impl"><a href="#impl-Send-for-PerCpu" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a></h3></section><section id="impl-Sync-for-PerCpu" class="impl"><a href="#impl-Sync-for-PerCpu" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a></h3></section><section id="impl-Unpin-for-PerCpu" class="impl"><a href="#impl-Unpin-for-PerCpu" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a></h3></section><section id="impl-UnwindSafe-for-PerCpu" class="impl"><a href="#impl-UnwindSafe-for-PerCpu" class="anchor">§</a><h3 class="code-header">impl !<a class="trait" href="https://doc.rust-lang.org/1.93.1/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a></h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/any.rs.html#138">Source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/any.rs.html#139">Source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.93.1/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.93.1/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.93.1/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/borrow.rs.html#212">Source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/borrow.rs.html#214">Source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.93.1/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.93.1/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/borrow.rs.html#221">Source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/borrow.rs.html#222">Source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.93.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.93.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/convert/mod.rs.html#785">Source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/convert/mod.rs.html#788">Source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.93.1/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/convert/mod.rs.html#767-769">Source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/convert/mod.rs.html#777">Source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.93.1/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.93.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Same-for-T" class="impl"><a class="src rightside" href="https://docs.rs/typenum/1.19.0/src/typenum/type_operators.rs.html#34">Source</a><a href="#impl-Same-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/typenum/1.19.0/typenum/type_operators/trait.Same.html" title="trait typenum::type_operators::Same">Same</a> for T</h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Output" class="associatedtype trait-impl"><a class="src rightside" href="https://docs.rs/typenum/1.19.0/src/typenum/type_operators.rs.html#35">Source</a><a href="#associatedtype.Output" class="anchor">§</a><h4 class="code-header">type <a href="https://docs.rs/typenum/1.19.0/typenum/type_operators/trait.Same.html#associatedtype.Output" class="associatedtype">Output</a> = T</h4></section></summary><div class='docblock'>Should always be <code>Self</code></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/convert/mod.rs.html#827-829">Source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/convert/mod.rs.html#831">Source</a><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/convert/mod.rs.html#834">Source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/convert/mod.rs.html#811-813">Source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/convert/mod.rs.html#815">Source</a><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.93.1/src/core/convert/mod.rs.html#818">Source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.93.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>