<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This defines a platform abstraction to permit the SVSM to run on different underlying architectures."><title>SvsmPlatform in svsm::platform - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="svsm" data-themes="" data-resource-suffix="" data-rustdoc-version="1.93.1 (01f6ddf75 2026-02-11)" data-channel="1.93.1" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-a3946164.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-a410ff4d.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">SvsmPlatform</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../svsm/index.html">svsm</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Svsm<wbr>Platform</a></h2><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.capabilities" title="capabilities">capabilities</a></li><li><a href="#tymethod.change_apic_registration_state" title="change_apic_registration_state">change_apic_registration_state</a></li><li><a href="#tymethod.configure_alternate_injection" title="configure_alternate_injection">configure_alternate_injection</a></li><li><a href="#tymethod.cpuid" title="cpuid">cpuid</a></li><li><a href="#tymethod.env_setup" title="env_setup">env_setup</a></li><li><a href="#tymethod.env_setup_late" title="env_setup_late">env_setup_late</a></li><li><a href="#tymethod.env_setup_svsm" title="env_setup_svsm">env_setup_svsm</a></li><li><a href="#tymethod.get_io_port" title="get_io_port">get_io_port</a></li><li><a href="#tymethod.get_page_encryption_masks" title="get_page_encryption_masks">get_page_encryption_masks</a></li><li><a href="#tymethod.hypercall" title="hypercall">hypercall</a></li><li><a href="#tymethod.idle_halt" title="idle_halt">idle_halt</a></li><li><a href="#tymethod.is_external_interrupt" title="is_external_interrupt">is_external_interrupt</a></li><li><a href="#tymethod.mmio_read" title="mmio_read">mmio_read</a></li><li><a href="#tymethod.mmio_write" title="mmio_write">mmio_write</a></li><li><a href="#tymethod.page_state_change" title="page_state_change">page_state_change</a></li><li><a href="#tymethod.query_apic_registration_state" title="query_apic_registration_state">query_apic_registration_state</a></li><li><a href="#tymethod.setup_percpu" title="setup_percpu">setup_percpu</a></li><li><a href="#tymethod.setup_percpu_current" title="setup_percpu_current">setup_percpu_current</a></li><li><a href="#tymethod.start_cpu" title="start_cpu">start_cpu</a></li><li><a href="#tymethod.terminate" title="terminate">terminate</a></li><li><a href="#tymethod.use_interrupts" title="use_interrupts">use_interrupts</a></li><li><a href="#tymethod.validate_physical_page_range" title="validate_physical_page_range">validate_physical_page_range</a></li><li><a href="#tymethod.validate_virtual_page_range" title="validate_virtual_page_range">validate_virtual_page_range</a></li><li><a href="#tymethod.write_host_msr" title="write_host_msr">write_host_msr</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.determine_cet_support" title="determine_cet_support">determine_cet_support</a></li><li><a href="#method.flush_tlb" title="flush_tlb">flush_tlb</a></li><li><a href="#method.free_unused_platform_page" title="free_unused_platform_page">free_unused_platform_page</a></li><li><a href="#method.halt" title="halt">halt</a></li><li><a href="#method.initialize_platform_page" title="initialize_platform_page">initialize_platform_page</a></li><li><a href="#method.launch_fw" title="launch_fw">launch_fw</a></li><li><a href="#method.prepare_fw" title="prepare_fw">prepare_fw</a></li><li><a href="#method.setup_guest_host_comm" title="setup_guest_host_comm">setup_guest_host_comm</a></li><li><a href="#method.setup_hyperv_hypercalls" title="setup_hyperv_hypercalls">setup_hyperv_hypercalls</a></li><li><a href="#method.start_svsm_request_loop" title="start_svsm_request_loop">start_svsm_request_loop</a></li><li><a href="#method.validate_low_memory" title="validate_low_memory">validate_low_memory</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In svsm::<wbr>platform</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">svsm</a>::<wbr><a href="index.html">platform</a></div><h1>Trait <span class="trait">Svsm<wbr>Platform</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/svsm/platform/mod.rs.html#78-300">Source</a> </span></div><pre class="rust item-decl"><code>pub trait SvsmPlatform: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> {
<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 35 methods</span></summary>    // Required methods
    fn <a href="#tymethod.idle_halt" class="fn">idle_halt</a>(&amp;self, _irq_guard: &amp;<a class="struct" href="../cpu/irq_state/struct.IrqGuard.html" title="struct svsm::cpu::irq_state::IrqGuard">IrqGuard</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.env_setup" class="fn">env_setup</a>(
        &amp;mut self,
        debug_serial_port: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u16.html">u16</a>,
        vtom: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.usize.html">usize</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.env_setup_late" class="fn">env_setup_late</a>(
        &amp;mut self,
        debug_serial_port: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u16.html">u16</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.env_setup_svsm" class="fn">env_setup_svsm</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.setup_percpu" class="fn">setup_percpu</a>(&amp;self, cpu: &amp;<a class="struct" href="../cpu/percpu/struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.setup_percpu_current" class="fn">setup_percpu_current</a>(&amp;self, cpu: &amp;<a class="struct" href="../cpu/percpu/struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_page_encryption_masks" class="fn">get_page_encryption_masks</a>(&amp;self) -&gt; <a class="struct" href="struct.PageEncryptionMasks.html" title="struct svsm::platform::PageEncryptionMasks">PageEncryptionMasks</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.capabilities" class="fn">capabilities</a>(&amp;self) -&gt; <a class="struct" href="capabilities/struct.Caps.html" title="struct svsm::platform::capabilities::Caps">Caps</a>;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.hypercall" class="fn">hypercall</a>(
        &amp;self,
        input_control: <a class="struct" href="../hyperv/hv/struct.HvHypercallInput.html" title="struct svsm::hyperv::hv::HvHypercallInput">HvHypercallInput</a>,
        hypercall_pages: &amp;<a class="struct" href="../hyperv/hv/struct.HypercallPagesGuard.html" title="struct svsm::hyperv::hv::HypercallPagesGuard">HypercallPagesGuard</a>&lt;'_&gt;,
    ) -&gt; <a class="struct" href="../hyperv/hv/struct.HvHypercallOutput.html" title="struct svsm::hyperv::hv::HvHypercallOutput">HvHypercallOutput</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.cpuid" class="fn">cpuid</a>(&amp;self, eax: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u32.html">u32</a>, ecx: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u32.html">u32</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../cpu/cpuid/struct.CpuidResult.html" title="struct svsm::cpu::cpuid::CpuidResult">CpuidResult</a>&gt;;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.write_host_msr" class="fn">write_host_msr</a>(&amp;self, msr: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u32.html">u32</a>, value: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.get_io_port" class="fn">get_io_port</a>(&amp;self) -&gt; &amp;'static dyn <a class="trait" href="../io/trait.IOPort.html" title="trait svsm::io::IOPort">IOPort</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.page_state_change" class="fn">page_state_change</a>(
        &amp;self,
        region: <a class="struct" href="../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../address/struct.PhysAddr.html" title="struct svsm::address::PhysAddr">PhysAddr</a>&gt;,
        op: <a class="enum" href="enum.PageStateChangeOp.html" title="enum svsm::platform::PageStateChangeOp">PageStateChangeOp</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.validate_physical_page_range" class="fn">validate_physical_page_range</a>(
        &amp;self,
        region: <a class="struct" href="../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../address/struct.PhysAddr.html" title="struct svsm::address::PhysAddr">PhysAddr</a>&gt;,
        op: <a class="enum" href="enum.PageValidateOp.html" title="enum svsm::platform::PageValidateOp">PageValidateOp</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.validate_virtual_page_range" class="fn">validate_virtual_page_range</a>(
        &amp;self,
        region: <a class="struct" href="../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;,
        op: <a class="enum" href="enum.PageValidateOp.html" title="enum svsm::platform::PageValidateOp">PageValidateOp</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.configure_alternate_injection" class="fn">configure_alternate_injection</a>(
        &amp;mut self,
        alt_inj_requested: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.change_apic_registration_state" class="fn">change_apic_registration_state</a>(
        &amp;self,
        incr: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.query_apic_registration_state" class="fn">query_apic_registration_state</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.use_interrupts" class="fn">use_interrupts</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.is_external_interrupt" class="fn">is_external_interrupt</a>(&amp;self, vector: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.start_cpu" class="fn">start_cpu</a>(
        &amp;self,
        cpu: &amp;<a class="struct" href="../cpu/percpu/struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a>,
        start_rip: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>,
        transition_page_table: &amp;<a class="struct" href="../mm/transition_pgtable/struct.TransitionPageTable.html" title="struct svsm::mm::transition_pgtable::TransitionPageTable">TransitionPageTable</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.mmio_write" class="fn">mmio_write</a>(
        &amp;self,
        vaddr: <a class="struct" href="../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>,
        data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u8.html">u8</a>],
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.mmio_read" class="fn">mmio_read</a>(
        &amp;self,
        vaddr: <a class="struct" href="../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>,
        data: &amp;mut [<a class="union" href="https://doc.rust-lang.org/1.93.1/core/mem/maybe_uninit/union.MaybeUninit.html" title="union core::mem::maybe_uninit::MaybeUninit">MaybeUninit</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u8.html">u8</a>&gt;],
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.terminate" class="fn">terminate</a>() -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.never.html">!</a>
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a></span>;

    // Provided methods
    fn <a href="#method.halt" class="fn">halt</a>()
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a></span> { ... }
<span class="item-spacer"></span>    unsafe fn <a href="#method.initialize_platform_page" class="fn">initialize_platform_page</a>(
        &amp;self,
        _page_type: <a class="enum" href="enum.PlatformPageType.html" title="enum svsm::platform::PlatformPageType">PlatformPageType</a>,
        _vaddr: <a class="struct" href="../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>,
    ) { ... }
<span class="item-spacer"></span>    unsafe fn <a href="#method.free_unused_platform_page" class="fn">free_unused_platform_page</a>(
        &amp;self,
        _page_type: <a class="enum" href="enum.PlatformPageType.html" title="enum svsm::platform::PlatformPageType">PlatformPageType</a>,
        vaddr: <a class="struct" href="../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>,
    ) { ... }
<span class="item-spacer"></span>    fn <a href="#method.prepare_fw" class="fn">prepare_fw</a>(
        &amp;self,
        _boot_params: &amp;<a class="struct" href="../boot_params/struct.BootParams.html" title="struct svsm::boot_params::BootParams">BootParams</a>&lt;'_&gt;,
        _kernel_region: <a class="struct" href="../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../address/struct.PhysAddr.html" title="struct svsm::address::PhysAddr">PhysAddr</a>&gt;,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.launch_fw" class="fn">launch_fw</a>(&amp;self, _boot_params: &amp;<a class="struct" href="../boot_params/struct.BootParams.html" title="struct svsm::boot_params::BootParams">BootParams</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.determine_cet_support" class="fn">determine_cet_support</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.setup_hyperv_hypercalls" class="fn">setup_hyperv_hypercalls</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.setup_guest_host_comm" class="fn">setup_guest_host_comm</a>(&amp;mut self, _cpu: &amp;<a class="struct" href="../cpu/percpu/struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a>, _is_bsp: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>) { ... }
<span class="item-spacer"></span>    unsafe fn <a href="#method.validate_low_memory" class="fn">validate_low_memory</a>(&amp;self, addr: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.flush_tlb" class="fn">flush_tlb</a>(&amp;self, flush_scope: &amp;<a class="enum" href="../cpu/tlb/enum.TlbFlushScope.html" title="enum svsm::cpu::tlb::TlbFlushScope">TlbFlushScope</a>) { ... }
<span class="item-spacer"></span>    fn <a href="#method.start_svsm_request_loop" class="fn">start_svsm_request_loop</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a> { ... }
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This defines a platform abstraction to permit the SVSM to run on different
underlying architectures.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.idle_halt" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#100">Source</a><h4 class="code-header">fn <a href="#tymethod.idle_halt" class="fn">idle_halt</a>(&amp;self, _irq_guard: &amp;<a class="struct" href="../cpu/irq_state/struct.IrqGuard.html" title="struct svsm::cpu::irq_state::IrqGuard">IrqGuard</a>)</h4></section></summary><div class="docblock"><p>Halts the system with interrupts enabled as required by the platform.</p>
<h5 id="arguments"><a class="doc-anchor" href="#arguments">§</a>Arguments</h5>
<p>_irq_guard: an IRQ guard structure.  This is not actually used, but
serves as proof that interrupts have been correctly disabled so that
interrupt state can be correctly manipulated as required by the idle
halt action.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.env_setup" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#103">Source</a><h4 class="code-header">fn <a href="#tymethod.env_setup" class="fn">env_setup</a>(
    &amp;mut self,
    debug_serial_port: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u16.html">u16</a>,
    vtom: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.usize.html">usize</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Performs basic early initialization of the runtime environment.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.env_setup_late" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#115">Source</a><h4 class="code-header">fn <a href="#tymethod.env_setup_late" class="fn">env_setup_late</a>(&amp;mut self, debug_serial_port: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u16.html">u16</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Performs initialization of the platform runtime environment after
the core system environment has been initialized.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.env_setup_svsm" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#119">Source</a><h4 class="code-header">fn <a href="#tymethod.env_setup_svsm" class="fn">env_setup_svsm</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Performs initialiation of the environment specfic to the SVSM kernel
(for services not used by stage2).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.setup_percpu" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#145">Source</a><h4 class="code-header">fn <a href="#tymethod.setup_percpu" class="fn">setup_percpu</a>(&amp;self, cpu: &amp;<a class="struct" href="../cpu/percpu/struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Completes initialization of a per-CPU object during construction.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.setup_percpu_current" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#148">Source</a><h4 class="code-header">fn <a href="#tymethod.setup_percpu_current" class="fn">setup_percpu_current</a>(&amp;self, cpu: &amp;<a class="struct" href="../cpu/percpu/struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Completes initialization of a per-CPU object on the target CPU.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_page_encryption_masks" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#151">Source</a><h4 class="code-header">fn <a href="#tymethod.get_page_encryption_masks" class="fn">get_page_encryption_masks</a>(&amp;self) -&gt; <a class="struct" href="struct.PageEncryptionMasks.html" title="struct svsm::platform::PageEncryptionMasks">PageEncryptionMasks</a></h4></section></summary><div class="docblock"><p>Determines the paging encryption masks for the current architecture.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.capabilities" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#159">Source</a><h4 class="code-header">fn <a href="#tymethod.capabilities" class="fn">capabilities</a>(&amp;self) -&gt; <a class="struct" href="capabilities/struct.Caps.html" title="struct svsm::platform::capabilities::Caps">Caps</a></h4></section></summary><div class="docblock"><p>Get the features and the capabilities of the platform.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.hypercall" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#171-175">Source</a><h4 class="code-header">unsafe fn <a href="#tymethod.hypercall" class="fn">hypercall</a>(
    &amp;self,
    input_control: <a class="struct" href="../hyperv/hv/struct.HvHypercallInput.html" title="struct svsm::hyperv::hv::HvHypercallInput">HvHypercallInput</a>,
    hypercall_pages: &amp;<a class="struct" href="../hyperv/hv/struct.HypercallPagesGuard.html" title="struct svsm::hyperv::hv::HypercallPagesGuard">HypercallPagesGuard</a>&lt;'_&gt;,
) -&gt; <a class="struct" href="../hyperv/hv/struct.HvHypercallOutput.html" title="struct svsm::hyperv::hv::HvHypercallOutput">HvHypercallOutput</a></h4></section></summary><div class="docblock"><p>Perform a hypercall.</p>
<h5 id="safety"><a class="doc-anchor" href="#safety">§</a>Safety</h5>
<p>Hypercalls may have side-effects that affect the integrity of the
system, and the caller must take responsibility for ensuring that the
hypercall operation is safe.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.cpuid" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#178">Source</a><h4 class="code-header">fn <a href="#tymethod.cpuid" class="fn">cpuid</a>(&amp;self, eax: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u32.html">u32</a>, ecx: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u32.html">u32</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../cpu/cpuid/struct.CpuidResult.html" title="struct svsm::cpu::cpuid::CpuidResult">CpuidResult</a>&gt;</h4></section></summary><div class="docblock"><p>Obtain CPUID using platform-specific tables.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.write_host_msr" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#184">Source</a><h4 class="code-header">unsafe fn <a href="#tymethod.write_host_msr" class="fn">write_host_msr</a>(&amp;self, msr: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u32.html">u32</a>, value: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>)</h4></section></summary><div class="docblock"><p>Write a host-owned MSR.</p>
<h5 id="safety-1"><a class="doc-anchor" href="#safety-1">§</a>Safety</h5>
<p>The caller must ensure that the requested MSR modification does mot
affect memory safety.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_io_port" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#191">Source</a><h4 class="code-header">fn <a href="#tymethod.get_io_port" class="fn">get_io_port</a>(&amp;self) -&gt; &amp;'static dyn <a class="trait" href="../io/trait.IOPort.html" title="trait svsm::io::IOPort">IOPort</a></h4></section></summary><div class="docblock"><p>Obtains a reference to an I/O port implemetation appropriate to the
platform.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.page_state_change" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#211-215">Source</a><h4 class="code-header">fn <a href="#tymethod.page_state_change" class="fn">page_state_change</a>(
    &amp;self,
    region: <a class="struct" href="../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../address/struct.PhysAddr.html" title="struct svsm::address::PhysAddr">PhysAddr</a>&gt;,
    op: <a class="enum" href="enum.PageStateChangeOp.html" title="enum svsm::platform::PageStateChangeOp">PageStateChangeOp</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Performs a page state change between private and shared states.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.validate_physical_page_range" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#223-227">Source</a><h4 class="code-header">unsafe fn <a href="#tymethod.validate_physical_page_range" class="fn">validate_physical_page_range</a>(
    &amp;self,
    region: <a class="struct" href="../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../address/struct.PhysAddr.html" title="struct svsm::address::PhysAddr">PhysAddr</a>&gt;,
    op: <a class="enum" href="enum.PageValidateOp.html" title="enum svsm::platform::PageValidateOp">PageValidateOp</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Marks a physical range of pages as valid or invalid for use as private
pages.  Not usable in stage2.</p>
<h5 id="safety-2"><a class="doc-anchor" href="#safety-2">§</a>Safety</h5>
<p>See the safety considerations for <a href="trait.SvsmPlatform.html#tymethod.validate_virtual_page_range" title="method svsm::platform::SvsmPlatform::validate_virtual_page_range">SvsmPlatform::validate_virtual_page_range</a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.validate_virtual_page_range" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#235-239">Source</a><h4 class="code-header">unsafe fn <a href="#tymethod.validate_virtual_page_range" class="fn">validate_virtual_page_range</a>(
    &amp;self,
    region: <a class="struct" href="../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>&gt;,
    op: <a class="enum" href="enum.PageValidateOp.html" title="enum svsm::platform::PageValidateOp">PageValidateOp</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Marks a virtual range of pages as valid or invalid for use as private
pages.  Provided primarily for use in stage2 where validation by
physical address cannot be supported.</p>
<h5 id="safety-3"><a class="doc-anchor" href="#safety-3">§</a>Safety</h5>
<p>The caller is required to ensure the safety of the validation operation
on this memory range.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.configure_alternate_injection" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#247">Source</a><h4 class="code-header">fn <a href="#tymethod.configure_alternate_injection" class="fn">configure_alternate_injection</a>(
    &amp;mut self,
    alt_inj_requested: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Configures the use of alternate injection as requested.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.change_apic_registration_state" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#251">Source</a><h4 class="code-header">fn <a href="#tymethod.change_apic_registration_state" class="fn">change_apic_registration_state</a>(&amp;self, incr: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Changes the state of APIC registration on this system, returning either
the current registration state or an error.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.query_apic_registration_state" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#254">Source</a><h4 class="code-header">fn <a href="#tymethod.query_apic_registration_state" class="fn">query_apic_registration_state</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Queries the state of APIC registration on this system.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.use_interrupts" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#257">Source</a><h4 class="code-header">fn <a href="#tymethod.use_interrupts" class="fn">use_interrupts</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Determines whether the platform supports interrupts to the SVSM.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.is_external_interrupt" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#261">Source</a><h4 class="code-header">fn <a href="#tymethod.is_external_interrupt" class="fn">is_external_interrupt</a>(&amp;self, vector: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Determines whether a given interrupt vector was invoked as an external
interrupt.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.start_cpu" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#264-269">Source</a><h4 class="code-header">fn <a href="#tymethod.start_cpu" class="fn">start_cpu</a>(
    &amp;self,
    cpu: &amp;<a class="struct" href="../cpu/percpu/struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a>,
    start_rip: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>,
    transition_page_table: &amp;<a class="struct" href="../mm/transition_pgtable/struct.TransitionPageTable.html" title="struct svsm::mm::transition_pgtable::TransitionPageTable">TransitionPageTable</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Start an additional processor.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.mmio_write" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#282">Source</a><h4 class="code-header">unsafe fn <a href="#tymethod.mmio_write" class="fn">mmio_write</a>(
    &amp;self,
    vaddr: <a class="struct" href="../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>,
    data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u8.html">u8</a>],
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Perfrom a write to a memory-mapped IO area</p>
<h5 id="safety-4"><a class="doc-anchor" href="#safety-4">§</a>Safety</h5>
<p>Caller must ensure that <code>vaddr</code> points to a properly aligned memory location and the
memory accessed is part of a valid MMIO range.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.mmio_read" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#290-294">Source</a><h4 class="code-header">unsafe fn <a href="#tymethod.mmio_read" class="fn">mmio_read</a>(
    &amp;self,
    vaddr: <a class="struct" href="../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>,
    data: &amp;mut [<a class="union" href="https://doc.rust-lang.org/1.93.1/core/mem/maybe_uninit/union.MaybeUninit.html" title="union core::mem::maybe_uninit::MaybeUninit">MaybeUninit</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u8.html">u8</a>&gt;],
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Perfrom a read from a memory-mapped IO area</p>
<h5 id="safety-5"><a class="doc-anchor" href="#safety-5">§</a>Safety</h5>
<p>Caller must ensure that <code>vaddr</code> points to a properly aligned memory location and the
memory accessed is part of a valid MMIO range.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.terminate" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#297-299">Source</a><h4 class="code-header">fn <a href="#tymethod.terminate" class="fn">terminate</a>() -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.never.html">!</a><div class="where">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h4></section></summary><div class="docblock"><p>Terminates the guest.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.halt" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#84-92">Source</a><h4 class="code-header">fn <a href="#method.halt" class="fn">halt</a>()<div class="where">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h4></section></summary><div class="docblock"><p>Halts the system required by the platform.  Interrupt state is under
control of the caller.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.initialize_platform_page" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#109-111">Source</a><h4 class="code-header">unsafe fn <a href="#method.initialize_platform_page" class="fn">initialize_platform_page</a>(
    &amp;self,
    _page_type: <a class="enum" href="enum.PlatformPageType.html" title="enum svsm::platform::PlatformPageType">PlatformPageType</a>,
    _vaddr: <a class="struct" href="../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>,
)</h4></section></summary><div class="docblock"><p>Initializes a platform-specific page.</p>
<h5 id="safety-6"><a class="doc-anchor" href="#safety-6">§</a>Safety</h5>
<p>The caller must specify a valid virtual address for the specified type
of page.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.free_unused_platform_page" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#126-128">Source</a><h4 class="code-header">unsafe fn <a href="#method.free_unused_platform_page" class="fn">free_unused_platform_page</a>(
    &amp;self,
    _page_type: <a class="enum" href="enum.PlatformPageType.html" title="enum svsm::platform::PlatformPageType">PlatformPageType</a>,
    vaddr: <a class="struct" href="../address/struct.VirtAddr.html" title="struct svsm::address::VirtAddr">VirtAddr</a>,
)</h4></section></summary><div class="docblock"><p>Frees a platforms-specific page if it is not used by the underlying
platform.</p>
<h5 id="safety-7"><a class="doc-anchor" href="#safety-7">§</a>Safety</h5>
<p>The caller must specify a valid virtual address for the specified type
of page.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.prepare_fw" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#131-137">Source</a><h4 class="code-header">fn <a href="#method.prepare_fw" class="fn">prepare_fw</a>(
    &amp;self,
    _boot_params: &amp;<a class="struct" href="../boot_params/struct.BootParams.html" title="struct svsm::boot_params::BootParams">BootParams</a>&lt;'_&gt;,
    _kernel_region: <a class="struct" href="../utils/memory_region/struct.MemoryRegion.html" title="struct svsm::utils::memory_region::MemoryRegion">MemoryRegion</a>&lt;<a class="struct" href="../address/struct.PhysAddr.html" title="struct svsm::address::PhysAddr">PhysAddr</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Performs the necessary preparations for launching guest boot firmware.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.launch_fw" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#140-142">Source</a><h4 class="code-header">fn <a href="#method.launch_fw" class="fn">launch_fw</a>(&amp;self, _boot_params: &amp;<a class="struct" href="../boot_params/struct.BootParams.html" title="struct svsm::boot_params::BootParams">BootParams</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Launches guest boot firmware.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.determine_cet_support" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#154-156">Source</a><h4 class="code-header">fn <a href="#method.determine_cet_support" class="fn">determine_cet_support</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Determine whether shadow stacks are supported.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.setup_hyperv_hypercalls" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#162-164">Source</a><h4 class="code-header">fn <a href="#method.setup_hyperv_hypercalls" class="fn">setup_hyperv_hypercalls</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Enable platform-specific Hyper-V hypercall operations.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.setup_guest_host_comm" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#187">Source</a><h4 class="code-header">fn <a href="#method.setup_guest_host_comm" class="fn">setup_guest_host_comm</a>(&amp;mut self, _cpu: &amp;<a class="struct" href="../cpu/percpu/struct.PerCpu.html" title="struct svsm::cpu::percpu::PerCpu">PerCpu</a>, _is_bsp: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a>)</h4></section></summary><div class="docblock"><p>Establishes state required for guest/host communication.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.validate_low_memory" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#199-208">Source</a><h4 class="code-header">unsafe fn <a href="#method.validate_low_memory" class="fn">validate_low_memory</a>(&amp;self, addr: <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.SvsmError.html" title="enum svsm::error::SvsmError">SvsmError</a>&gt;</h4></section></summary><div class="docblock"><p>Validates low memory below the specified physical address, with the
exception of addresses reserved for use by the platform object which
may pre-validated.  Intended only for use during early boot.</p>
<h5 id="safety-8"><a class="doc-anchor" href="#safety-8">§</a>Safety</h5>
<p>The caller is required to ensure that it is safe to validate low
memory.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.flush_tlb" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#242-244">Source</a><h4 class="code-header">fn <a href="#method.flush_tlb" class="fn">flush_tlb</a>(&amp;self, flush_scope: &amp;<a class="enum" href="../cpu/tlb/enum.TlbFlushScope.html" title="enum svsm::cpu::tlb::TlbFlushScope">TlbFlushScope</a>)</h4></section></summary><div class="docblock"><p>Performs a system-wide TLB flush.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.start_svsm_request_loop" class="method"><a class="src rightside" href="../../src/svsm/platform/mod.rs.html#272-274">Source</a><h4 class="code-header">fn <a href="#method.start_svsm_request_loop" class="fn">start_svsm_request_loop</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Indicates whether this platform should invoke the SVSM request loop.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-SvsmPlatform-for-NativePlatform" class="impl"><a class="src rightside" href="../../src/svsm/platform/native.rs.html#62-350">Source</a><a href="#impl-SvsmPlatform-for-NativePlatform" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.SvsmPlatform.html" title="trait svsm::platform::SvsmPlatform">SvsmPlatform</a> for <a class="struct" href="native/struct.NativePlatform.html" title="struct svsm::platform::native::NativePlatform">NativePlatform</a></h3></section><section id="impl-SvsmPlatform-for-SnpPlatform" class="impl"><a class="src rightside" href="../../src/svsm/platform/snp.rs.html#124-495">Source</a><a href="#impl-SvsmPlatform-for-SnpPlatform" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.SvsmPlatform.html" title="trait svsm::platform::SvsmPlatform">SvsmPlatform</a> for <a class="struct" href="snp/struct.SnpPlatform.html" title="struct svsm::platform::snp::SnpPlatform">SnpPlatform</a></h3></section><section id="impl-SvsmPlatform-for-TdpPlatform" class="impl"><a class="src rightside" href="../../src/svsm/platform/tdp.rs.html#54-330">Source</a><a href="#impl-SvsmPlatform-for-TdpPlatform" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.SvsmPlatform.html" title="trait svsm::platform::SvsmPlatform">SvsmPlatform</a> for <a class="struct" href="tdp/struct.TdpPlatform.html" title="struct svsm::platform::tdp::TdpPlatform">TdpPlatform</a></h3></section></div><script src="../../trait.impl/svsm/platform/trait.SvsmPlatform.js" async></script></section></div></main></body></html>